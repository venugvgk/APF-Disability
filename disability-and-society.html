<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Digital Resource for Disability</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Digital Resource for Disability</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./disability-guides/index.html"> 
<span class="menu-text">Disability Guides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./disability-and-society.html" aria-current="page"> 
<span class="menu-text">Disability and Society</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About the Resource</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./support.html"> 
<span class="menu-text">Sources of Support</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#disability-and-society" id="toc-disability-and-society" class="nav-link active" data-scroll-target="#disability-and-society">Disability and Society</a>
  <ul class="collapse">
  <li><a href="#understanding-disability" id="toc-understanding-disability" class="nav-link" data-scroll-target="#understanding-disability">Understanding disability</a></li>
  <li><a href="#social-and-policy-responses" id="toc-social-and-policy-responses" class="nav-link" data-scroll-target="#social-and-policy-responses">Social and policy responses</a></li>
  </ul></li>
  <li><a href="#bio-psycho-social-model-of-disability" id="toc-bio-psycho-social-model-of-disability" class="nav-link" data-scroll-target="#bio-psycho-social-model-of-disability">Bio-psycho-social model of disability</a></li>
  <li><a href="#how-should-we-work-with-disability" id="toc-how-should-we-work-with-disability" class="nav-link" data-scroll-target="#how-should-we-work-with-disability">How should we work with disability?</a></li>
  <li><a href="#what-is-inclusion" id="toc-what-is-inclusion" class="nav-link" data-scroll-target="#what-is-inclusion">What is inclusion?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">




<section id="disability-and-society" class="level1">
<h1>Disability and Society</h1>
<section id="understanding-disability" class="level2">
<h2 class="anchored" data-anchor-id="understanding-disability">Understanding disability</h2>
<p>As people who are dealing with or working with disabilities, we naturally want to learn more about specific disabilities, be it autism, vision impairment, hearing impairment etc. However, it may make sense to step back to try and understand the concept of disability.</p>
<p>There has been much social and political discourse around the concept of disability in the last few decades. The discourse includes questions like what does ‘disability’ mean and what does it identify, what are its causes and consequences, and what should be an appropriate response to disability at an individual and societal level.</p>
<p>Much of this debate has focused on removing or reforming the conventional social definitions and attitudes that have defined disability in terms of pathology or a deficit. Such ‘deficit approach’ to disability, based on medical models of impairments with hard notions of pathology, has led to responses that invoke charity and pity at best. More commonly, such approaches have led to stigma, exclusion or marginalisation of persons identified as disabled.</p>
<p>The response to this has been to move away from the medical models and to take views that consider disability to be wholly socially constructed and the result primarily of social stigma and discrimination. Many activists reject the concept of disability itself as unhelpful, and advocate terms that remove any implication of essential differences that the relevant groups are supposed to carry.</p>
<p>In this note, and throughout the accompanying resources, we see a balance between these two views. We do not reject the use of disability as a descriptor. For example, we will not reject the use of “Dyslexic” as a descriptor just because it comes from a medical model of the deficiency referring to the inability to read words. However, we do not believe the differences in human abilities themselves define disability. Most of these human abilities lie along a spectrum and it is impossible to identify or assign disability without reference to context and environmental conditions. For example, someone with dyslexia would be more disabled as a newspaper editor and not as disabled as a crane operator. It may be important to emphasize here that we do not use the words ‘disability’ and ‘disabled’ as medical terms.</p>
<p>Human beings have psycho-social abilities and characteristics that lie along a spectrum. Any atypicality or differences in these individual abilities may diminish the personal and social functioning of the individual. This may be worsened by the social conditions, including the built environment, the structure of opportunities that society presents to various groups or the attitudes, feelings, and actions the individual confronts in the people around.</p>
<p>When seen this way, ‘disability’ is a status descriptor that attaches to a person and</p>
<ul>
<li><p>Identifies that there are limitations in the person’s functioning in the world</p></li>
<li><p>locates the limitations in the interaction between the person’s physical or psychological characteristics and the social environment</p></li>
<li><p>acknowledges that it may actually or potentially diminish the person’s wellbeing.</p></li>
</ul>
</section>
<section id="social-and-policy-responses" class="level2">
<h2 class="anchored" data-anchor-id="social-and-policy-responses">Social and policy responses</h2>
<p>The Indvidual identified as disabled, or their immediate caregivers might initiate their own responses to adapt to the challenges arising out of the disability. In addition, disability calls for moral responses that include the duty of care and concern that is expected both out of the primary caregivers and the society at large, including policy responses. The notion of care is not meant as a response of pity or compassion. It is the idea of an ethic of care that is part of a broader set of moral considerations, including respect, responsibility, inclusion, and justice.</p>
<p>Thus, our understanding of disability is an affirmative model in the sense that disability is not automatically assumed to be socially crippling. Similarly, the responses to disability are also assumed to be within the range of diversity that can be accepted, responded to and managed by the society. On the other hand, we do not adopt a view that all disability is necessarily socially constructed, which places the onus of response entirely on social values and systems.</p>
<p>In summary, the broad set of value orientations that we adopt for designing responses include:</p>
<ul>
<li><p>Every person who is suspected to be atypical in their repertoire of capacities should have, if they so wish, access to expert assistance in the evaluation and identification of characteristics that might amount to a disability. This is especially important in the case of marginalised and socio-economically disadvantaged communities.</p></li>
<li><p>Once identified, the person and their primary caregivers must have access to advice and support to help understand how the disability might influence or limit the person’s functioning unless actively addressed. In this, we adopt a bio-psycho-social approach to the analysis of disability.</p></li>
<li><p>The person must have access to the best expertise that society can currently offer, to ameliorate the impact of the underlying condition that constitutes the disability. Depending on the nature of the disability, responses may range from medical attention to correctable conditions to psychotherapy and at the other end, social and policy accommodations that reduce or eliminate the limitations imposed by the context.</p></li>
</ul>
<p>This view adopts values that do not see disability as natural disadvantage. Disadvantages are largely constituted by social responses. A social orientation that values respect, inclusion, responsibility, and justice will expand the range of disability that can be easily accommodated within normal social life.</p>
<p>This view also acknowledges that prejudice and ignorance may make social structures and processes less inclusive of disabilities. So systematic attempts to remove stigma and gaps in knowledge that prevent inclusion is a necessary component of possible responses. A long and sustained programme of advocacy that tackles systemic exclusion and leads to more conducive social policy environment is equally important.</p>
</section>
</section>
<section id="bio-psycho-social-model-of-disability" class="level1">
<h1>Bio-psycho-social model of disability</h1>
<p>With this understanding of disability, we can see that it puts people living with disabilities on the same equal platform as everyone else, as it should. We can now look at the various aspects of living with disability that we need to account for.</p>
<p>Do we often see disabilities as deficits to be filled, or diseases that need to be cured? And therefore, do we believe that if we take care of the deficit, then the person will be “normal” and “alright”? Let us say one is visually impaired and is unable to see, and therefore faces certain difficulties. Do we believe that they need to find ways to overcome the specific disabilities that come from their inability to see, and with that, the person will be fine? Or say, if someone has a motor impairment, do we give them a wheelchair or any other way of making sure they can move freely, and that is the solution to it?</p>
<p>This is one way of looking at disability, as a deficit, as the absence of something they are supposed to have but do not, so let us bridge the gap. This is the biomedical approach, that sees disability as arising primarily from biology, and relies on medical approaches to address the biological difficulties.</p>
<p>However, this way of looking at it may not present the complete picture. If a person is unable to move around, the biological difficulty needs to be addressed, but how are the others looking at them? Therefore, how does it make them feel? How does this influence how they see themselves? Then again, is the world around them designed to accommodate their difficulty? Or does it amplify their difficulties?</p>
<p>When we start thinking along these lines, it becomes easy to see that the biomedical model that looks primarily at the biology of the disability, and relies on medical approaches to address the deficits, falls short of dealing with the entirety of disability. This is where the idea of a bio-psycho-social model of disability comes into the picture.</p>
<p>We need to see disability not just as a product of the biological factors, but also the psychological and social factors. When we say factors, we mean that the biological difficulty or disability may be amplified by the social configurations and societal structure. For example, having ramps around enables a motor impaired person while not having them amplifies their difficulties. Having or not having ramps has nothing to do with the biology of a person, it is about the societal structures around them. Similarly, if a person who is hard of hearing is looked down upon or is thought of as being difficult to deal with, it has psychological and social impact on the person dealing with the disability, as well as the people around them.</p>
<p>This is what we mean when we say that a disability can be looked at from a broader lens, the bio-psycho-social lens. When we see the biological, as well as the psychological and social implications of it, we can see the range of factors that affect the person living with disability. It can then help us address disability and related issues in a more holistic manner.</p>
</section>
<section id="how-should-we-work-with-disability" class="level1">
<h1>How should we work with disability?</h1>
<p>Let us now look at what we need to keep in mind with respect to interventions for disability. Here, we use the word intervention to mean anything that improves the quality of life for people living with disabilities. Choosing to get a pair of glasses for a person who cannot see well is an intervention, getting a hearing implant for someone with hearing impairment is an intervention, speech therapy is an intervention. What should be the nature of these interventions? How can one choose between various options? Some of what we say here may sound like common sense, but it is important that we be clear about how we make our choices as disabled people, and their parents, teachers, therapists, and social workers.</p>
<p>The first thing that comes to mind is strengths-based approach. This starts with the presumption of competence - all individuals have the ability to communicate, to participate, to relate to others and to build a meaningful life for themselves, in their own ways. This approach allows us to see the person as a whole, who they truly are, and not limit ourselves to the condition they live with. It allows us to use the strengths of a person to enable their learning and growth.</p>
<p>The next thing is to see if the interventions are functional for the person. The disabled person is the actor, they are at the centre of the interventions and should have a say in which interventions are working and which are not. The interventions should add to the quality of life of the person with the disability and the people around them. For example, if we have a child with ADHD who runs around and we want him to learn to sit in one place, one must ask if sitting in one place is functional for them. Is it working for them? Does it add to the quality of their life or is the intervention meant to remove the discomfort of the people around? Similarly, people with autism tend to flap their hands as a way of self-regulation. Should we aim to stop it? We should constantly ask if the intervention is aimed at a functional goal for the person.</p>
<p>Another aspect to see is if the interventions are family centric and consider the community context. We need to recognise people with disabilities live in a social context, with their families, and embedded in the community. So, the interventions need to be something the family understands, approves of, and can execute. The person cannot be forever dependent on some professional who delivers interventions that cannot be handled by anyone else. Therefore, interventions should be designed considering the family circumstances and the social setting of the people with disabilities. For example, if we have a person from the rural community, the goals for that person and the interventions need to be situated in the community where they are growing up, living, and where they aspire to spend their life.</p>
<p>When we think along these lines, interventions need to be strengths based - they presume competence and use the strengths of the person to make progress. They need to be functional - helpful in improving the quality of life of the person. They need to be situated in the context of the family and community - they account for who the person is, the family and the community they live in and what they aspire to do in that setting.</p>
</section>
<section id="what-is-inclusion" class="level1">
<h1>What is inclusion?</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>